#include <Collector/Collector.hpp>

void Collector::Update(bool teleop)
{
    if (teleop)
    {
        if (collectInToggle->WasDown())
        {
            Collect(false);
        }

        if (collectOutButton->GetState())
        {
            Collect(true);
        }

        if (collecting && collectStop->WasDown())
        {
            Off();
        }
    }
}

void Collector::Dashboard()
{
    SmartDashboard::PutNumber("Collector Motor", collectMotor->Get());
}

void Collector::Off()
{
    collectMotor->Set(0);
    collecting = false;
}

void Collector::Collect(bool reverse)
{
    collectMotor->Set(COLLECTOR_SPEED * (reverse ? -1.0 : 1.0));
    collecting = true;
}

bool Collector::IsCollecting()
{
    return collecting;
}
