#ifndef DRIVETRAIN2_HPP
#define DRIVETRAIN2_HPP

#include <Schematic.hpp>
#include <Shooter/ShooterManager.hpp>
#include <Vision/VisionManager.hpp>

class DriveTrain2 : IComponent {
private:
	CANTalon *leftDrive, *rightDrive;
	AnalogGyro *analogGyro;
	ShooterManager *shooterManager;

	bool driveEnabled;
	float leftSpeed, rightSpeed;

	bool pidsEnabled;
	float targetAngle, targetDistance;

public:
	DriveTrain2(Joystick *joystick, AnalogGyro *gyro, ShooterManager *shooter) : IComponent(joystick, new string("DriveTrain2"))
	{
		leftDrive = new CANTalon(0);
		rightDrive = new CANTalon(1);
		analogGyro = gyro;
		shooterManager = shooter;

		driveEnabled = false;
		leftSpeed = 0;
		rightSpeed = 0;

		pidsEnabled = false;
		targetAngle = 0;
		targetDistance = 0;
	}

	void AutoInit();
	void TeleopInit();
	void Update(bool teleop);
	void Dashboard();

	void AutoAngle(float angle);
	void AutoDistance(float distance);
	bool AtTargetAngle();
	bool AtTargetDistance();
};

#endif
