#include <Autonomous/AutonomousReach.hpp>

void AutonomousReach::Start()
{
}

bool AutonomousReach::Run(double time)
{
    switch (reachState)
    {
        case (0):
            driveTrain->Cross(false);
            reachState++;
            break;
        case (1):
            reachState += driveTrain->IsWaiting() ? 1 : 0;
            break;
        case (0):
            driveTrain->AutoDistance()
            reachState++;
            break;
        case (1):
            reachState += driveTrain->IsWaiting() ? 1 : 0;
            break;
        case (0):
            shooter->AutoShoot();
            reachState++;
            break;
        case (1):
            reachState += !shooter->IsActivated() ? 1 : 0;
            break;
    }

    return reachState <= 1;
}

void AutonomousReach::Stop()
{
    driveTrain->SetState(DriveTrain::DriveState::NONE);
}
