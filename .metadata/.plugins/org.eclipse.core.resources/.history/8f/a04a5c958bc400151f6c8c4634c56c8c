#include "DriveTrain/DriveTrain.hpp"

void DriveTrain::Drive(Joystick* joystick) {
	float leftJoy = fabs(joystick->GetRawAxis(0)) >= JOYSTICK_DEADBAND ? joystick->GetRawAxis(0) : 0;
	float rightJoy = fabs(joystick->GetRawAxis(2)) >= JOYSTICK_DEADBAND ? joystick->GetRawAxis(2) : 0;

	rightVictor->Set(leftJoy);
	leftVictor->Set(rightJoy);

	if(joystick->GetRawButton(5)){
		Shift(1);
	} else if(joystick->GetRawButton(7)){
		Shift(0);
	}
}

void DriveTrain::Shift(int gear) {
	shifter->Set(gear == 1 ? false : true);
}
