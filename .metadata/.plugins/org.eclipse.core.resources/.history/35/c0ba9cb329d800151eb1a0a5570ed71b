/*
 * TakeBackHalf.cpp
 *
 *  Created on: Feb 20, 2016
 *      Author: code01
 */

#include <Toolbox/TakeBackHalf.hpp>

void TakeBackHalf::Enable()
{
    timer->Reset();
    timer->Start();
}

void TakeBackHalf::Disable()
{
    timer->Stop();
}

void TakeBackHalf::Update()
{
    float error = input - target;
    float t = error * (1.0f / 360.0f);
    output = t * 1.75f * (timer->Get() * timer->Get());
}

float TakeBackHalf::GetTarget()
{
    return target;
}

void TakeBackHalf::SetTarget(float target)
{
    this->target = target;
}

float TakeBackHalf::GetInput()
{
    return input;
}

void TakeBackHalf::SetInput(float input)
{
    this->input = input;
}

float TakeBackHalf::GetOutput()
{
    Update();
    return output;
}
