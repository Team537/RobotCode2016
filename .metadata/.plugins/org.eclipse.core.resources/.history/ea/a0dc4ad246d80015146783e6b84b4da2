#include <Climber/Climber.hpp>

void Climber::Update(bool teleop)
{
    if (teleop)
    {
        if (extenderButton->WasDown())
        {
            Extend();
        }

        if (hookButton->WasDown())
        {
            Hook();
        }
    }
}

void Climber::Dashboard()
{
    SmartDashboard::PutBoolean("Climber Extended", IsExtended());
    SmartDashboard::PutBoolean("Climber Hooked", IsHooked());
}

void Climber::Reset()
{
    backLeftExtender->Set(0);
    frontLeftExtender->Set(0);
    backRightExtender->Set(0);
    frontRightExtender->Set(0);
    deployStage1->Set(0);
    deployStage2->Set(0);
    climbing = false;
}

void Climber::Extend()
{
    backLeftExtender->Set(!backLeftExtender->Get());
    frontLeftExtender->Set(!frontLeftExtender->Get());
    backRightExtender->Set(!backRightExtender->Get());
    backRightExtender->Set(!backRightExtender->Get());
    climbing = true;
}

void Climber::Hook()
{
    deployStage1->Set(!deployStage1->Get());
    deployStage2->Set(!deployStage2->Get());
    climbing = true;
}

bool Climber::IsExtended()
{
    return backLeftExtender->Get() && backRightExtender->Get();
}

bool Climber::IsHooked()
{
    return deployStage1->Get() && deployStage2->Get();
}

bool Climber::IsClimbing()
{
    return climbing;
}
